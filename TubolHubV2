-- ðŸ”„ Paradise Egg AFK Farming Script (Revised: Smarter Egg Placement)

-- Teams
getgenv().baldTeam = 1
getgenv().koiTeam = 2
getgenv().sealTeam = 3

-- Egg target
getgenv().eggPlace = {"Paradise Egg"}

-- Pets to sell (except Mimic Octopus & 4KG+)
getgenv().petSell = {
    "Ostrich",
    "Peacock",
    "Scarlet Macaw",
    "Capybara"
}

-- Sell filter
getgenv().KG = 3                          -- Only pets below 4KG will be sold
getgenv().noSellPets = {"Mimic Octopus"}  -- Never sell this pet
getgenv().lockPets = {"Brontosaurus"}     -- Lock Brontosaurus

-- Special rule: Place 4 Brontosaurus if any 3KG pet is detected
getgenv().placeBrontoOn3KG = true  
getgenv().brontoCount = 4                 -- Number of Brontosaurus to place

-- General settings
getgenv().Age = 1
getgenv().maxEgg = 8
getgenv().autoPlaceEgg = true
getgenv().farmEggs = true

-------------------------------
-- REVISED AFK FARMING LOOP
-------------------------------

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

local function printInfo(s)
    pcall(function() print("[Paradise Egg]: "..s) end)
end

-- Check if a pet can be sold
local function isSellable(pet)
    for _,name in ipairs(getgenv().noSellPets) do
        if pet.Name == name then return false end
    end
    for _,name in ipairs(getgenv().petSell) do
        if pet.Name == name and (pet.KG or 0) <= getgenv().KG then return true end
    end
    return false
end

-- Check if a pet should be locked
local function shouldLock(pet)
    for _,name in ipairs(getgenv().lockPets) do
        if pet.Name == name then return true end
    end
    return false
end

-- Place Brontosaurus if a 3KG pet is detected
local function checkAndPlaceBronto(petList)
    for _,pet in ipairs(petList) do
        if (pet.KG or 0) == 3 then
            printInfo("Detected 3KG pet, placing Brontosaurus...")
            for i = 1, getgenv().brontoCount do
                if ReplicatedStorage:FindFirstChild("Remote") and ReplicatedStorage.Remote:FindFirstChild("PlacePet") then
                    ReplicatedStorage.Remote.PlacePet:FireServer("Brontosaurus")
                end
            end
            break
        end
    end
end

-- Main farming loop
spawn(function()
    printInfo("Automation started! You can AFK now.")
    while getgenv().farmEggs do
        local pets = (player:FindFirstChild("Pets") and player.Pets:GetChildren()) or {}

        -- Sell pets logic
        for _,pet in ipairs(pets) do
            if isSellable(pet) then
                printInfo("Selling pet: "..pet.Name.." KG: "..tostring(pet.KG or "?"))
                if ReplicatedStorage:FindFirstChild("Remote") and ReplicatedStorage.Remote:FindFirstChild("SellPet") then
                    ReplicatedStorage.Remote.SellPet:FireServer(pet)
                end
            elseif shouldLock(pet) then
                printInfo("Locking pet: "..pet.Name)
                if ReplicatedStorage:FindFirstChild("Remote") and ReplicatedStorage.Remote:FindFirstChild("LockPet") then
                    ReplicatedStorage.Remote.LockPet:FireServer(pet)
                end
            end
        end

        -- Special Bronto rule
        if getgenv().placeBrontoOn3KG then
            checkAndPlaceBronto(pets)
        end

        -- Place eggs only if needed
        if getgenv().autoPlaceEgg then
            local eggCount = 0
            for _,egg in ipairs((player:FindFirstChild("Eggs") and player.Eggs:GetChildren()) or {}) do
                if table.find(getgenv().eggPlace, egg.Name) then
                    eggCount = eggCount + 1
                end
            end
            if eggCount < getgenv().maxEgg then
                local eggsToPlace = getgenv().maxEgg - eggCount
                printInfo("Placing "..eggsToPlace.." eggs...")
                for i=1, eggsToPlace do
                    if ReplicatedStorage:FindFirstChild("Remote") and ReplicatedStorage.Remote:FindFirstChild("PlaceEgg") then
                        ReplicatedStorage.Remote.PlaceEgg:FireServer(getgenv().eggPlace[1])
                    end
                end
            else
                printInfo("Max eggs ("..getgenv().maxEgg..") already placed, skipping egg placement.")
            end
        end

        wait(10) -- Wait 10 seconds before looping again to avoid spam
    end
    printInfo("Automation stopped.")
end)
